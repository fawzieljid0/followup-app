<h2>Login</h2>
<form id="loginForm">
    Email: <input type="email" name="email"><br>
    Password: <input type="password" name="password"><br>
    <button type="submit">Login</button>
</form>
<a href="signup.html">Don't have an account? Sign Up</a>
<link rel="stylesheet" type="text/css" href="static/style.css">
<script>
async function login(event){
    event.preventDefault();

    const email = document.querySelector('input[name="email"]').value;
    const password = document.querySelector('input[name="password"]').value;

    const res = await fetch('database.json').then(r => r.json());
    const users = res.users;

    const user = users.find(u => u.email === email && u.password === password);
    if(user){
        alert("Login successful!");
        window.location.href = 'dashboard.html';
    } else {
        alert("Invalid email or password!");
    }
}

document.getElementById('loginForm').addEventListener('submit', login);
</script>
